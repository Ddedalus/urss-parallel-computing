---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
library(igraph)
setwd("~/Code/Warwick/BSP/R/")
path1 <- "./asp/Networks/n1.edges"
path2 <- "./asp/Networks/n2.edges"
path3 <- "./asp/Networks/n3.edges"
path5 <- "./asp/Networks/n5.edges"
getGraph <- function(path){
  mydata <- read.table(path, sep=" ", skip=2)
  graph_from_data_frame(d=mydata, directed=T)
}
net1 <- getGraph(path1)
net2 <- getGraph(path2)
net3 <- getGraph(path3)
net5 <- getGraph(path5)

```

```{r}
library(microbenchmark)
gorder(net5)
ans <- microbenchmark(distances(net1), distances(net2), distances(net3), distances(net5), times = 5)
nets <- list(net1, net2, net3, net5)
sizes <- sapply(nets, gsize)
distTimes <- summary(ans)[,"mean"]/1000.0
plot(sizes, distTimes)
model <- lm(distTimes ~ poly(sizes, 3))
predicted <- predict(model, data.frame(x=seq(0, 5000, 100)))

{
plot(sizes, distTimes)
lines(sizes, predicted)
}

lines()
```
